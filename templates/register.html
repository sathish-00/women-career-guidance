<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Register</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='register.css') }}" />
</head>
<body>

  <!-- Suggestion box top-left -->
  <div class="suggestion-box" aria-label="Registration suggestions">
    <h3>Registration Tips:</h3>
    <ul>
      <li>Use a unique username that you can remember easily.</li>
      <li>Choose a strong password with 8+ characters including letters and numbers.</li>
      <li>Enter your correct age for personalized career recommendations.</li>
      <li>Uploading a profile picture helps personalize your profile but is optional.</li>
      <li>If you face issues, contact support via the contact page.</li>
    </ul>
  </div>

  <!-- Registration form top-right -->
  <div class="register-container" role="main" aria-labelledby="register-heading">
    <h2 id="register-heading">Create an Account</h2>

    {% if message %}
      <p class="flash-message success">{{ message }}</p>
    {% endif %}
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <p class="flash-message {{ category }}">{{ message }}</p>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('register') }}" enctype="multipart/form-data" novalidate>

      <div class="form-row">
        <div class="form-group">
          <label for="username">Username:</label>
          <input type="text" id="username" name="username" required placeholder="Enter your desired username" />
        </div>
        <div class="form-group">
          <label for="password">Password:</label>
          <div class="password-input-wrapper">
            <input
              type="password"
              id="password"
              name="password"
              required
              minlength="8"
              oninput="validatePassword()"
              placeholder="At least 8 characters"
            />
            <span id="togglePassword" class="password-toggle" title="Show/Hide Password"></span>
          </div>
          <span id="passwordError" class="error-message"></span>

          <p class="password-strength-text">Password strength: <span id="strengthLabel">Weak</span></p>
          <div id="strengthMeter" class="strength-meter">
            <div id="strengthBar" class="strength-bar"></div>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="age">Age:</label>
          <input
            type="number"
            id="age"
            name="age"
            required
            min="0"
            oninput="validateAge()"
            placeholder="Enter your age"
          />
          <span id="ageError" class="error-message"></span>
        </div>
        <div class="form-group">
          <label for="profile_pic">Profile Picture:</label>
          <input type="file" id="profile_pic" name="profile_pic" accept="image/*" />
        </div>
      </div>

      <button type="submit">Register</button>
    </form>

    <!-- Added link to admin registration page -->
    <div class="register-links">
      <p>Want to create an admin account? <a href="{{ url_for('register_admin') }}">Register as Admin</a></p>
    </div>

    <div>
      <a href="{{ url_for('home') }}" class="home-button">Back to Home</a>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-section">
        <h4>Have Questions?</h4>
        <p>Reach out to us for any queries or support.</p>
        <a href="{{ url_for('contact') }}" class="footer-link">Contact Us</a>
      </div>
      <div class="footer-section">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="{{ url_for('register') }}" class="footer-link">Create Account</a></li>
          <li><a href="{{ url_for('home') }}" class="footer-link">Home</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <script src="{{ url_for('static', filename='register.js') }}"></script>

</body>
</html>
